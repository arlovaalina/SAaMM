def getStateMatrix(p, pi1, pi2):
    matrix = [
        [p, 1 - p, 0, 0, 0, 0, 0, 0, 0],
        [0, (p*pi1 + (1-p)*pi1), p*(1-pi1), (1-p)*(1-pi1), 0, 0, 0, 0, 0],
        [p*(1-pi2), (1-p)*(1-pi2), p*pi2, (1-p)*pi2, 0, 0, 0, 0, 0],
        [0, (1-p)*pi1*(1-pi2) + p*(1-pi2)*pi1, p*(1-pi1)*(1-pi2), p*pi1*pi2 + (1-p)*(1-pi1)*(1-pi2) + (1-p)*pi1*pi2, p*(1-pi1)*pi2, (1-p)*(1-pi1)*pi2, 0, 0, 0],
        [0, 0, p*(1-pi2), (1-p)*(1-pi2), p*pi2, (1-p)*pi2, 0, 0, 0],
        [0, 0, 0, (1-p)*pi1*(1-pi2) + p*(1-pi2)*pi1, p*(1-pi1)*(1-pi2), p*pi1*pi2 + (1-p)*(1-pi1)*(1-pi2) + (1-p)*pi1*pi2, p*(1-pi1)*pi2, (1-p)*(1-pi1)*pi2, 0],
        [0, 0, 0, 0, p*(1-pi2), (1-p)*(1-pi2), p*pi2, (1-p)*pi2, 0],
        [0, 0, 0, 0, 0, (1-p)*pi1*(1-pi2) + p*(1-pi2)*pi1, p*(1-pi1)*(1-pi2), p*pi1*pi2 + (1-p)*(1-pi1)*(1-pi2) + (1-p)*pi1*pi2, (1-p)*(1-pi1)*pi2 + p*(1-pi1)*pi2],
        [0, 0, 0, 0, 0, 0, p*(1-pi2), (1-p)*(1-pi2), (1-p)*pi2 + p*pi2],
    ]
    return matrix